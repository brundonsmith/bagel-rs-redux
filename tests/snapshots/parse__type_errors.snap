---
source: tests/parse.rs
expression: "test_parse(common :: samples :: TYPE_ERRORS)"
---
const a: string = 42
const b: number = true
const c = 1 + true
const d = 'hello' - 1
const e = 1 && 2
const f = 1 < true
const g = !42
const h: boolean = nil ?? 5
const i: 0..10 = 15
const j: string[] = ['hello', 42]
const k: () => string = () => 42
const l: (string) => number = (x: number) => x
const m = if 1 { 'yes' } else { 'no' }
const n = {name: 'alice'}.age
const o: {name: string} = {name: 'alice', age: 42}
const p: {x: number, y: number} = {x: 1}

const fn = (a: number, b: number) => a + b
const resulta: 4 = fn(2, 2)
const resultb: 4 = (2)..fn(2)

const aaaaaa = fn()
const bbbbbb = fn(1, 2, 3)
---
Ok(
    (
        Slice("\n"),
        ASTInner {
            slice: Slice("\nconst a: string = 42\nconst b: number = true\nconst c = 1 + true\nconst d = 'hello' - 1\nconst e = 1 && 2\nconst f = 1 < true\nconst g = !42\nconst h: boolean = nil ?? 5\nconst i: 0..10 = 15\nconst j: string[] = ['hello', 42]\nconst k: () => string = () => 42\nconst l: (string) => number = (x: number) => x\nconst m = if 1 { 'yes' } else { 'no' }\nconst n = {name: 'alice'}.age\nconst o: {name: string} = {name: 'alice', age: 42}\nconst p: {x: number, y: number} = {x: 1}\n\nconst fn = (a: number, b: number) => a + b\nconst resulta: 4 = fn(2, 2)\nconst resultb: 4 = (2)..fn(2)\n\nconst aaaaaa = fn()\nconst bbbbbb = fn(1, 2, 3)"),
            details: Module {
                declarations: [
                    ASTInner {
                        slice: Slice("const a: string = 42"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("a"),
                                details: PlainIdentifier {
                                    slice: Slice("a"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("string"),
                                        details: StringTypeExpression,
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("42"),
                                details: NumberLiteral {
                                    slice: Slice("42"),
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const b: number = true"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("b"),
                                details: PlainIdentifier {
                                    slice: Slice("b"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("number"),
                                        details: NumberTypeExpression,
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("true"),
                                details: BooleanLiteral {
                                    value: true,
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const c = 1 + true"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("c"),
                                details: PlainIdentifier {
                                    slice: Slice("c"),
                                },
                            },
                            type_annotation: None,
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("1 + true"),
                                details: BinaryOperation {
                                    left: ASTInner {
                                        slice: Slice("1"),
                                        details: NumberLiteral {
                                            slice: Slice("1"),
                                        },
                                    },
                                    operator: ASTInner {
                                        slice: Slice("+"),
                                        details: Add,
                                    },
                                    right: ASTInner {
                                        slice: Slice("true"),
                                        details: BooleanLiteral {
                                            value: true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const d = 'hello' - 1"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("d"),
                                details: PlainIdentifier {
                                    slice: Slice("d"),
                                },
                            },
                            type_annotation: None,
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("'hello' - 1"),
                                details: BinaryOperation {
                                    left: ASTInner {
                                        slice: Slice("'hello'"),
                                        details: StringLiteral {
                                            open_quote: Slice("'"),
                                            contents: Slice("hello"),
                                            close_quote: Slice("'"),
                                        },
                                    },
                                    operator: ASTInner {
                                        slice: Slice("-"),
                                        details: Subtract,
                                    },
                                    right: ASTInner {
                                        slice: Slice("1"),
                                        details: NumberLiteral {
                                            slice: Slice("1"),
                                        },
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const e = 1 && 2"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("e"),
                                details: PlainIdentifier {
                                    slice: Slice("e"),
                                },
                            },
                            type_annotation: None,
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("1 && 2"),
                                details: BinaryOperation {
                                    left: ASTInner {
                                        slice: Slice("1"),
                                        details: NumberLiteral {
                                            slice: Slice("1"),
                                        },
                                    },
                                    operator: ASTInner {
                                        slice: Slice("&&"),
                                        details: And,
                                    },
                                    right: ASTInner {
                                        slice: Slice("2"),
                                        details: NumberLiteral {
                                            slice: Slice("2"),
                                        },
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const f = 1 < true"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("f"),
                                details: PlainIdentifier {
                                    slice: Slice("f"),
                                },
                            },
                            type_annotation: None,
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("1 < true"),
                                details: BinaryOperation {
                                    left: ASTInner {
                                        slice: Slice("1"),
                                        details: NumberLiteral {
                                            slice: Slice("1"),
                                        },
                                    },
                                    operator: ASTInner {
                                        slice: Slice("<"),
                                        details: LessThan,
                                    },
                                    right: ASTInner {
                                        slice: Slice("true"),
                                        details: BooleanLiteral {
                                            value: true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const g = !42"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("g"),
                                details: PlainIdentifier {
                                    slice: Slice("g"),
                                },
                            },
                            type_annotation: None,
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("!42"),
                                details: UnaryOperation {
                                    operator: ASTInner {
                                        slice: Slice("!"),
                                        details: Not,
                                    },
                                    operand: ASTInner {
                                        slice: Slice("42"),
                                        details: NumberLiteral {
                                            slice: Slice("42"),
                                        },
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const h: boolean = nil ?? 5"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("h"),
                                details: PlainIdentifier {
                                    slice: Slice("h"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("boolean"),
                                        details: BooleanTypeExpression,
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("nil ?? 5"),
                                details: BinaryOperation {
                                    left: ASTInner {
                                        slice: Slice("nil"),
                                        details: NilLiteral,
                                    },
                                    operator: ASTInner {
                                        slice: Slice("??"),
                                        details: NullishCoalescing,
                                    },
                                    right: ASTInner {
                                        slice: Slice("5"),
                                        details: NumberLiteral {
                                            slice: Slice("5"),
                                        },
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const i: 0..10 = 15"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("i"),
                                details: PlainIdentifier {
                                    slice: Slice("i"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("0..10"),
                                        details: RangeTypeExpression {
                                            start: Some(
                                                Slice("0"),
                                            ),
                                            dots: Slice(".."),
                                            end: Some(
                                                Slice("10"),
                                            ),
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("15"),
                                details: NumberLiteral {
                                    slice: Slice("15"),
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const j: string[] = ['hello', 42]"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("j"),
                                details: PlainIdentifier {
                                    slice: Slice("j"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("string[]"),
                                        details: ArrayTypeExpression {
                                            element: ASTInner {
                                                slice: Slice("string"),
                                                details: StringTypeExpression,
                                            },
                                            open_bracket: Slice("["),
                                            close_bracket: Slice("]"),
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("['hello', 42]"),
                                details: ArrayLiteral {
                                    open_bracket: Slice("["),
                                    elements: [
                                        ASTInner {
                                            slice: Slice("'hello'"),
                                            details: StringLiteral {
                                                open_quote: Slice("'"),
                                                contents: Slice("hello"),
                                                close_quote: Slice("'"),
                                            },
                                        },
                                        ASTInner {
                                            slice: Slice("42"),
                                            details: NumberLiteral {
                                                slice: Slice("42"),
                                            },
                                        },
                                    ],
                                    commas: [
                                        Slice(","),
                                    ],
                                    trailing_comma: None,
                                    close_bracket: Some(
                                        Slice("]"),
                                    ),
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const k: () => string = () => 42"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("k"),
                                details: PlainIdentifier {
                                    slice: Slice("k"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("() => string"),
                                        details: FunctionTypeExpression {
                                            open_paren: Slice("("),
                                            parameters: [],
                                            commas: [],
                                            trailing_comma: None,
                                            close_paren: Slice(")"),
                                            arrow: Slice("=>"),
                                            return_type: ASTInner {
                                                slice: Slice("string"),
                                                details: StringTypeExpression,
                                            },
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("() => 42"),
                                details: FunctionExpression {
                                    open_paren: Some(
                                        Slice("("),
                                    ),
                                    parameters: [],
                                    commas: [],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                    return_type: None,
                                    arrow: Slice("=>"),
                                    body: ASTInner {
                                        slice: Slice("42"),
                                        details: Expression(
                                            ASTInner {
                                                slice: Slice("42"),
                                                details: NumberLiteral {
                                                    slice: Slice("42"),
                                                },
                                            },
                                        ),
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const l: (string) => number = (x: number) => x"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("l"),
                                details: PlainIdentifier {
                                    slice: Slice("l"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("(string) => number"),
                                        details: FunctionTypeExpression {
                                            open_paren: Slice("("),
                                            parameters: [
                                                (
                                                    None,
                                                    ASTInner {
                                                        slice: Slice("string"),
                                                        details: StringTypeExpression,
                                                    },
                                                ),
                                            ],
                                            commas: [],
                                            trailing_comma: None,
                                            close_paren: Slice(")"),
                                            arrow: Slice("=>"),
                                            return_type: ASTInner {
                                                slice: Slice("number"),
                                                details: NumberTypeExpression,
                                            },
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("(x: number) => x"),
                                details: FunctionExpression {
                                    open_paren: Some(
                                        Slice("("),
                                    ),
                                    parameters: [
                                        (
                                            ASTInner {
                                                slice: Slice("x"),
                                                details: PlainIdentifier {
                                                    slice: Slice("x"),
                                                },
                                            },
                                            Some(
                                                (
                                                    Slice(":"),
                                                    ASTInner {
                                                        slice: Slice("number"),
                                                        details: NumberTypeExpression,
                                                    },
                                                ),
                                            ),
                                        ),
                                    ],
                                    commas: [],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                    return_type: None,
                                    arrow: Slice("=>"),
                                    body: ASTInner {
                                        slice: Slice("x"),
                                        details: Expression(
                                            ASTInner {
                                                slice: Slice("x"),
                                                details: LocalIdentifier {
                                                    slice: Slice("x"),
                                                },
                                            },
                                        ),
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const m = if 1 { 'yes' } else { 'no' }"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("m"),
                                details: PlainIdentifier {
                                    slice: Slice("m"),
                                },
                            },
                            type_annotation: None,
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("if 1 { 'yes' } else { 'no' }"),
                                details: IfElseExpression {
                                    if_keyword: Slice("if"),
                                    condition: ASTInner {
                                        slice: Slice("1"),
                                        details: NumberLiteral {
                                            slice: Slice("1"),
                                        },
                                    },
                                    open_brace: Slice("{"),
                                    consequent: ASTInner {
                                        slice: Slice("'yes'"),
                                        details: StringLiteral {
                                            open_quote: Slice("'"),
                                            contents: Slice("yes"),
                                            close_quote: Slice("'"),
                                        },
                                    },
                                    close_brace: Slice("}"),
                                    else_clause: Some(
                                        ElseBlock {
                                            else_keyword: Slice("else"),
                                            open_brace: Slice("{"),
                                            expression: ASTInner {
                                                slice: Slice("'no'"),
                                                details: StringLiteral {
                                                    open_quote: Slice("'"),
                                                    contents: Slice("no"),
                                                    close_quote: Slice("'"),
                                                },
                                            },
                                            close_brace: Slice("}"),
                                        },
                                    ),
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const n = {name: 'alice'}.age"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("n"),
                                details: PlainIdentifier {
                                    slice: Slice("n"),
                                },
                            },
                            type_annotation: None,
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("{name: 'alice'}.age"),
                                details: PropertyAccessExpression {
                                    subject: ASTInner {
                                        slice: Slice("{name: 'alice'}"),
                                        details: ObjectLiteral {
                                            open_brace: Slice("{"),
                                            fields: [
                                                (
                                                    ASTInner {
                                                        slice: Slice("name"),
                                                        details: PlainIdentifier {
                                                            slice: Slice("name"),
                                                        },
                                                    },
                                                    Slice(":"),
                                                    ASTInner {
                                                        slice: Slice("'alice'"),
                                                        details: StringLiteral {
                                                            open_quote: Slice("'"),
                                                            contents: Slice("alice"),
                                                            close_quote: Slice("'"),
                                                        },
                                                    },
                                                ),
                                            ],
                                            commas: [],
                                            trailing_comma: None,
                                            close_brace: Some(
                                                Slice("}"),
                                            ),
                                        },
                                    },
                                    dot: Slice("."),
                                    property: ASTInner {
                                        slice: Slice("age"),
                                        details: PlainIdentifier {
                                            slice: Slice("age"),
                                        },
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const o: {name: string} = {name: 'alice', age: 42}"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("o"),
                                details: PlainIdentifier {
                                    slice: Slice("o"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("{name: string}"),
                                        details: ObjectTypeExpression {
                                            open_brace: Slice("{"),
                                            fields: [
                                                (
                                                    ASTInner {
                                                        slice: Slice("name"),
                                                        details: PlainIdentifier {
                                                            slice: Slice("name"),
                                                        },
                                                    },
                                                    Slice(":"),
                                                    ASTInner {
                                                        slice: Slice("string"),
                                                        details: StringTypeExpression,
                                                    },
                                                ),
                                            ],
                                            commas: [],
                                            trailing_comma: None,
                                            close_brace: Slice("}"),
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("{name: 'alice', age: 42}"),
                                details: ObjectLiteral {
                                    open_brace: Slice("{"),
                                    fields: [
                                        (
                                            ASTInner {
                                                slice: Slice("name"),
                                                details: PlainIdentifier {
                                                    slice: Slice("name"),
                                                },
                                            },
                                            Slice(":"),
                                            ASTInner {
                                                slice: Slice("'alice'"),
                                                details: StringLiteral {
                                                    open_quote: Slice("'"),
                                                    contents: Slice("alice"),
                                                    close_quote: Slice("'"),
                                                },
                                            },
                                        ),
                                        (
                                            ASTInner {
                                                slice: Slice("age"),
                                                details: PlainIdentifier {
                                                    slice: Slice("age"),
                                                },
                                            },
                                            Slice(":"),
                                            ASTInner {
                                                slice: Slice("42"),
                                                details: NumberLiteral {
                                                    slice: Slice("42"),
                                                },
                                            },
                                        ),
                                    ],
                                    commas: [
                                        Slice(","),
                                    ],
                                    trailing_comma: None,
                                    close_brace: Some(
                                        Slice("}"),
                                    ),
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const p: {x: number, y: number} = {x: 1}"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("p"),
                                details: PlainIdentifier {
                                    slice: Slice("p"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("{x: number, y: number}"),
                                        details: ObjectTypeExpression {
                                            open_brace: Slice("{"),
                                            fields: [
                                                (
                                                    ASTInner {
                                                        slice: Slice("x"),
                                                        details: PlainIdentifier {
                                                            slice: Slice("x"),
                                                        },
                                                    },
                                                    Slice(":"),
                                                    ASTInner {
                                                        slice: Slice("number"),
                                                        details: NumberTypeExpression,
                                                    },
                                                ),
                                                (
                                                    ASTInner {
                                                        slice: Slice("y"),
                                                        details: PlainIdentifier {
                                                            slice: Slice("y"),
                                                        },
                                                    },
                                                    Slice(":"),
                                                    ASTInner {
                                                        slice: Slice("number"),
                                                        details: NumberTypeExpression,
                                                    },
                                                ),
                                            ],
                                            commas: [
                                                Slice(","),
                                            ],
                                            trailing_comma: None,
                                            close_brace: Slice("}"),
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("{x: 1}"),
                                details: ObjectLiteral {
                                    open_brace: Slice("{"),
                                    fields: [
                                        (
                                            ASTInner {
                                                slice: Slice("x"),
                                                details: PlainIdentifier {
                                                    slice: Slice("x"),
                                                },
                                            },
                                            Slice(":"),
                                            ASTInner {
                                                slice: Slice("1"),
                                                details: NumberLiteral {
                                                    slice: Slice("1"),
                                                },
                                            },
                                        ),
                                    ],
                                    commas: [],
                                    trailing_comma: None,
                                    close_brace: Some(
                                        Slice("}"),
                                    ),
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const fn = (a: number, b: number) => a + b"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("fn"),
                                details: PlainIdentifier {
                                    slice: Slice("fn"),
                                },
                            },
                            type_annotation: None,
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("(a: number, b: number) => a + b"),
                                details: FunctionExpression {
                                    open_paren: Some(
                                        Slice("("),
                                    ),
                                    parameters: [
                                        (
                                            ASTInner {
                                                slice: Slice("a"),
                                                details: PlainIdentifier {
                                                    slice: Slice("a"),
                                                },
                                            },
                                            Some(
                                                (
                                                    Slice(":"),
                                                    ASTInner {
                                                        slice: Slice("number"),
                                                        details: NumberTypeExpression,
                                                    },
                                                ),
                                            ),
                                        ),
                                        (
                                            ASTInner {
                                                slice: Slice("b"),
                                                details: PlainIdentifier {
                                                    slice: Slice("b"),
                                                },
                                            },
                                            Some(
                                                (
                                                    Slice(":"),
                                                    ASTInner {
                                                        slice: Slice("number"),
                                                        details: NumberTypeExpression,
                                                    },
                                                ),
                                            ),
                                        ),
                                    ],
                                    commas: [
                                        Slice(","),
                                    ],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                    return_type: None,
                                    arrow: Slice("=>"),
                                    body: ASTInner {
                                        slice: Slice("a + b"),
                                        details: Expression(
                                            ASTInner {
                                                slice: Slice("a + b"),
                                                details: BinaryOperation {
                                                    left: ASTInner {
                                                        slice: Slice("a"),
                                                        details: LocalIdentifier {
                                                            slice: Slice("a"),
                                                        },
                                                    },
                                                    operator: ASTInner {
                                                        slice: Slice("+"),
                                                        details: Add,
                                                    },
                                                    right: ASTInner {
                                                        slice: Slice("b"),
                                                        details: LocalIdentifier {
                                                            slice: Slice("b"),
                                                        },
                                                    },
                                                },
                                            },
                                        ),
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const resulta: 4 = fn(2, 2)"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("resulta"),
                                details: PlainIdentifier {
                                    slice: Slice("resulta"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("4"),
                                        details: NumberLiteralTypeExpression {
                                            slice: Slice("4"),
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("fn(2, 2)"),
                                details: Invocation {
                                    function: ASTInner {
                                        slice: Slice("fn"),
                                        details: LocalIdentifier {
                                            slice: Slice("fn"),
                                        },
                                    },
                                    open_paren: Slice("("),
                                    arguments: [
                                        ASTInner {
                                            slice: Slice("2"),
                                            details: NumberLiteral {
                                                slice: Slice("2"),
                                            },
                                        },
                                        ASTInner {
                                            slice: Slice("2"),
                                            details: NumberLiteral {
                                                slice: Slice("2"),
                                            },
                                        },
                                    ],
                                    commas: [
                                        Slice(","),
                                    ],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const resultb: 4 = (2)..fn(2)"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("resultb"),
                                details: PlainIdentifier {
                                    slice: Slice("resultb"),
                                },
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("4"),
                                        details: NumberLiteralTypeExpression {
                                            slice: Slice("4"),
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("(2)..fn(2)"),
                                details: PipeCallExpression {
                                    subject: ASTInner {
                                        slice: Slice("(2)"),
                                        details: ParenthesizedExpression {
                                            open_paren: Slice("("),
                                            expression: ASTInner {
                                                slice: Slice("2"),
                                                details: NumberLiteral {
                                                    slice: Slice("2"),
                                                },
                                            },
                                            close_paren: Slice(")"),
                                        },
                                    },
                                    double_dot: Slice(".."),
                                    function: Some(
                                        ASTInner {
                                            slice: Slice("fn"),
                                            details: LocalIdentifier {
                                                slice: Slice("fn"),
                                            },
                                        },
                                    ),
                                    open_paren: Some(
                                        Slice("("),
                                    ),
                                    arguments: [
                                        ASTInner {
                                            slice: Slice("2"),
                                            details: NumberLiteral {
                                                slice: Slice("2"),
                                            },
                                        },
                                    ],
                                    commas: [],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const aaaaaa = fn()"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("aaaaaa"),
                                details: PlainIdentifier {
                                    slice: Slice("aaaaaa"),
                                },
                            },
                            type_annotation: None,
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("fn()"),
                                details: Invocation {
                                    function: ASTInner {
                                        slice: Slice("fn"),
                                        details: LocalIdentifier {
                                            slice: Slice("fn"),
                                        },
                                    },
                                    open_paren: Slice("("),
                                    arguments: [],
                                    commas: [],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const bbbbbb = fn(1, 2, 3)"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("bbbbbb"),
                                details: PlainIdentifier {
                                    slice: Slice("bbbbbb"),
                                },
                            },
                            type_annotation: None,
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("fn(1, 2, 3)"),
                                details: Invocation {
                                    function: ASTInner {
                                        slice: Slice("fn"),
                                        details: LocalIdentifier {
                                            slice: Slice("fn"),
                                        },
                                    },
                                    open_paren: Slice("("),
                                    arguments: [
                                        ASTInner {
                                            slice: Slice("1"),
                                            details: NumberLiteral {
                                                slice: Slice("1"),
                                            },
                                        },
                                        ASTInner {
                                            slice: Slice("2"),
                                            details: NumberLiteral {
                                                slice: Slice("2"),
                                            },
                                        },
                                        ASTInner {
                                            slice: Slice("3"),
                                            details: NumberLiteral {
                                                slice: Slice("3"),
                                            },
                                        },
                                    ],
                                    commas: [
                                        Slice(","),
                                        Slice(","),
                                    ],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                },
                            },
                        },
                    },
                ],
            },
        },
    ),
)
