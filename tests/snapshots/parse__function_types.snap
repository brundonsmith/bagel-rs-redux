---
source: tests/parse.rs
expression: "test_parse(common :: samples :: FUNCTION_TYPES)"
---
const a: () => number = () => 42
const b: (number) => number = (x) => x + 1
const c: (number, number) => number = (a, b) => a + b
const d: (x: number, y: number) => number = (a, b) => a + b
---
Ok(
    (
        Slice("\n"),
        ASTInner {
            slice: Slice("\nconst a: () => number = () => 42\nconst b: (number) => number = (x) => x + 1\nconst c: (number, number) => number = (a, b) => a + b\nconst d: (x: number, y: number) => number = (a, b) => a + b"),
            details: Module {
                declarations: [
                    ASTInner {
                        slice: Slice("const a: () => number = () => 42"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("a"),
                                details: PlainIdentifier,
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("() => number"),
                                        details: FunctionTypeExpression {
                                            open_paren: Slice("("),
                                            parameters: [],
                                            commas: [],
                                            trailing_comma: None,
                                            close_paren: Slice(")"),
                                            arrow: Slice("=>"),
                                            return_type: ASTInner {
                                                slice: Slice("number"),
                                                details: NumberTypeExpression,
                                            },
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("() => 42"),
                                details: FunctionExpression {
                                    open_paren: Some(
                                        Slice("("),
                                    ),
                                    parameters: [],
                                    commas: [],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                    return_type: None,
                                    arrow: Slice("=>"),
                                    body: ASTInner {
                                        slice: Slice("42"),
                                        details: Expression(
                                            ASTInner {
                                                slice: Slice("42"),
                                                details: NumberLiteral,
                                            },
                                        ),
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const b: (number) => number = (x) => x + 1"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("b"),
                                details: PlainIdentifier,
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("(number) => number"),
                                        details: FunctionTypeExpression {
                                            open_paren: Slice("("),
                                            parameters: [
                                                (
                                                    None,
                                                    ASTInner {
                                                        slice: Slice("number"),
                                                        details: NumberTypeExpression,
                                                    },
                                                ),
                                            ],
                                            commas: [],
                                            trailing_comma: None,
                                            close_paren: Slice(")"),
                                            arrow: Slice("=>"),
                                            return_type: ASTInner {
                                                slice: Slice("number"),
                                                details: NumberTypeExpression,
                                            },
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("(x) => x + 1"),
                                details: FunctionExpression {
                                    open_paren: Some(
                                        Slice("("),
                                    ),
                                    parameters: [
                                        (
                                            ASTInner {
                                                slice: Slice("x"),
                                                details: PlainIdentifier,
                                            },
                                            None,
                                        ),
                                    ],
                                    commas: [],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                    return_type: None,
                                    arrow: Slice("=>"),
                                    body: ASTInner {
                                        slice: Slice("x + 1"),
                                        details: Expression(
                                            ASTInner {
                                                slice: Slice("x + 1"),
                                                details: BinaryOperation {
                                                    left: ASTInner {
                                                        slice: Slice("x"),
                                                        details: LocalIdentifier {
                                                            identifier: ASTInner {
                                                                slice: Slice("x"),
                                                                details: PlainIdentifier,
                                                            },
                                                        },
                                                    },
                                                    operator: ASTInner {
                                                        slice: Slice("+"),
                                                        details: Add,
                                                    },
                                                    right: ASTInner {
                                                        slice: Slice("1"),
                                                        details: NumberLiteral,
                                                    },
                                                },
                                            },
                                        ),
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const c: (number, number) => number = (a, b) => a + b"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("c"),
                                details: PlainIdentifier,
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("(number, number) => number"),
                                        details: FunctionTypeExpression {
                                            open_paren: Slice("("),
                                            parameters: [
                                                (
                                                    None,
                                                    ASTInner {
                                                        slice: Slice("number"),
                                                        details: NumberTypeExpression,
                                                    },
                                                ),
                                                (
                                                    None,
                                                    ASTInner {
                                                        slice: Slice("number"),
                                                        details: NumberTypeExpression,
                                                    },
                                                ),
                                            ],
                                            commas: [
                                                Slice(","),
                                            ],
                                            trailing_comma: None,
                                            close_paren: Slice(")"),
                                            arrow: Slice("=>"),
                                            return_type: ASTInner {
                                                slice: Slice("number"),
                                                details: NumberTypeExpression,
                                            },
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("(a, b) => a + b"),
                                details: FunctionExpression {
                                    open_paren: Some(
                                        Slice("("),
                                    ),
                                    parameters: [
                                        (
                                            ASTInner {
                                                slice: Slice("a"),
                                                details: PlainIdentifier,
                                            },
                                            None,
                                        ),
                                        (
                                            ASTInner {
                                                slice: Slice("b"),
                                                details: PlainIdentifier,
                                            },
                                            None,
                                        ),
                                    ],
                                    commas: [
                                        Slice(","),
                                    ],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                    return_type: None,
                                    arrow: Slice("=>"),
                                    body: ASTInner {
                                        slice: Slice("a + b"),
                                        details: Expression(
                                            ASTInner {
                                                slice: Slice("a + b"),
                                                details: BinaryOperation {
                                                    left: ASTInner {
                                                        slice: Slice("a"),
                                                        details: LocalIdentifier {
                                                            identifier: ASTInner {
                                                                slice: Slice("a"),
                                                                details: PlainIdentifier,
                                                            },
                                                        },
                                                    },
                                                    operator: ASTInner {
                                                        slice: Slice("+"),
                                                        details: Add,
                                                    },
                                                    right: ASTInner {
                                                        slice: Slice("b"),
                                                        details: LocalIdentifier {
                                                            identifier: ASTInner {
                                                                slice: Slice("b"),
                                                                details: PlainIdentifier,
                                                            },
                                                        },
                                                    },
                                                },
                                            },
                                        ),
                                    },
                                },
                            },
                        },
                    },
                    ASTInner {
                        slice: Slice("const d: (x: number, y: number) => number = (a, b) => a + b"),
                        details: ConstDeclaration {
                            export_keyword: None,
                            const_keyword: Slice("const"),
                            identifier: ASTInner {
                                slice: Slice("d"),
                                details: PlainIdentifier,
                            },
                            type_annotation: Some(
                                (
                                    Slice(":"),
                                    ASTInner {
                                        slice: Slice("(x: number, y: number) => number"),
                                        details: FunctionTypeExpression {
                                            open_paren: Slice("("),
                                            parameters: [
                                                (
                                                    Some(
                                                        (
                                                            ASTInner {
                                                                slice: Slice("x"),
                                                                details: PlainIdentifier,
                                                            },
                                                            Slice(":"),
                                                        ),
                                                    ),
                                                    ASTInner {
                                                        slice: Slice("number"),
                                                        details: NumberTypeExpression,
                                                    },
                                                ),
                                                (
                                                    Some(
                                                        (
                                                            ASTInner {
                                                                slice: Slice("y"),
                                                                details: PlainIdentifier,
                                                            },
                                                            Slice(":"),
                                                        ),
                                                    ),
                                                    ASTInner {
                                                        slice: Slice("number"),
                                                        details: NumberTypeExpression,
                                                    },
                                                ),
                                            ],
                                            commas: [
                                                Slice(","),
                                            ],
                                            trailing_comma: None,
                                            close_paren: Slice(")"),
                                            arrow: Slice("=>"),
                                            return_type: ASTInner {
                                                slice: Slice("number"),
                                                details: NumberTypeExpression,
                                            },
                                        },
                                    },
                                ),
                            ),
                            equals: Slice("="),
                            value: ASTInner {
                                slice: Slice("(a, b) => a + b"),
                                details: FunctionExpression {
                                    open_paren: Some(
                                        Slice("("),
                                    ),
                                    parameters: [
                                        (
                                            ASTInner {
                                                slice: Slice("a"),
                                                details: PlainIdentifier,
                                            },
                                            None,
                                        ),
                                        (
                                            ASTInner {
                                                slice: Slice("b"),
                                                details: PlainIdentifier,
                                            },
                                            None,
                                        ),
                                    ],
                                    commas: [
                                        Slice(","),
                                    ],
                                    trailing_comma: None,
                                    close_paren: Some(
                                        Slice(")"),
                                    ),
                                    return_type: None,
                                    arrow: Slice("=>"),
                                    body: ASTInner {
                                        slice: Slice("a + b"),
                                        details: Expression(
                                            ASTInner {
                                                slice: Slice("a + b"),
                                                details: BinaryOperation {
                                                    left: ASTInner {
                                                        slice: Slice("a"),
                                                        details: LocalIdentifier {
                                                            identifier: ASTInner {
                                                                slice: Slice("a"),
                                                                details: PlainIdentifier,
                                                            },
                                                        },
                                                    },
                                                    operator: ASTInner {
                                                        slice: Slice("+"),
                                                        details: Add,
                                                    },
                                                    right: ASTInner {
                                                        slice: Slice("b"),
                                                        details: LocalIdentifier {
                                                            identifier: ASTInner {
                                                                slice: Slice("b"),
                                                                details: PlainIdentifier,
                                                            },
                                                        },
                                                    },
                                                },
                                            },
                                        ),
                                    },
                                },
                            },
                        },
                    },
                ],
            },
        },
    ),
)
