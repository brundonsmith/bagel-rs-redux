---
source: tests/parse.rs
expression: "parse::module(slice)"
---
Ok(
    (
        Slice("\n"),
        AST(
            Slice("const x: number = 42\nconst y = true\nconst z = false\nconst c: boolean = a == b || y != z\nconst foo = [1, 2, {stuff: 'other'}]\nconst func = (a: number, b: string) => a + b\nconst a: string = nil\nconst b: number = y * 2 + x"), Module(Module { declarations: [AST(Slice("const x: number = 42"), Declaration(Declaration { const_keyword: Slice("const"), identifier: AST(Slice("x"), PlainIdentifier(PlainIdentifier)), type_annotation: Some((Slice(":"), AST(Slice("number"), TypeExpression(NumberTypeExpression(NumberTypeExpression))))), equals: Slice("="), value: AST(Slice("42"), Expression(NumberLiteral(NumberLiteral))) })), AST(Slice("const y = true"), Declaration(Declaration { const_keyword: Slice("const"), identifier: AST(Slice("y"), PlainIdentifier(PlainIdentifier)), type_annotation: None, equals: Slice("="), value: AST(Slice("true"), Expression(BooleanLiteral(BooleanLiteral { value: true }))) })), AST(Slice("const z = false"), Declaration(Declaration { const_keyword: Slice("const"), identifier: AST(Slice("z"), PlainIdentifier(PlainIdentifier)), type_annotation: None, equals: Slice("="), value: AST(Slice("false"), Expression(BooleanLiteral(BooleanLiteral { value: false }))) })), AST(Slice("const c: boolean = a == b || y != z"), Declaration(Declaration { const_keyword: Slice("const"), identifier: AST(Slice("c"), PlainIdentifier(PlainIdentifier)), type_annotation: Some((Slice(":"), AST(Slice("boolean"), TypeExpression(BooleanTypeExpression(BooleanTypeExpression))))), equals: Slice("="), value: AST(Slice("a == b || y != z"), Expression(BinaryOperation(BinaryOperation { left: AST(Slice("a == b"), Expression(BinaryOperation(BinaryOperation { left: AST(Slice("a"), Expression(LocalIdentifier(LocalIdentifier { identifier: AST(Slice("a"), PlainIdentifier(PlainIdentifier)) }))), operator: AST(Slice("=="), BinaryOperator(Equal)), right: AST(Slice("b"), Expression(LocalIdentifier(LocalIdentifier { identifier: AST(Slice("b"), PlainIdentifier(PlainIdentifier)) }))) }))), operator: AST(Slice("||"), BinaryOperator(Or)), right: AST(Slice("y != z"), Expression(BinaryOperation(BinaryOperation { left: AST(Slice("y"), Expression(LocalIdentifier(LocalIdentifier { identifier: AST(Slice("y"), PlainIdentifier(PlainIdentifier)) }))), operator: AST(Slice("!="), BinaryOperator(NotEqual)), right: AST(Slice("z"), Expression(LocalIdentifier(LocalIdentifier { identifier: AST(Slice("z"), PlainIdentifier(PlainIdentifier)) }))) }))) }))) })), AST(Slice("const foo = [1, 2, {stuff: 'other'}]"), Declaration(Declaration { const_keyword: Slice("const"), identifier: AST(Slice("foo"), PlainIdentifier(PlainIdentifier)), type_annotation: None, equals: Slice("="), value: AST(Slice("[1, 2, {stuff: 'other'}]"), Expression(ArrayLiteral(ArrayLiteral { open_bracket: Slice("["), elements: [AST(Slice("1"), Expression(NumberLiteral(NumberLiteral))), AST(Slice("2"), Expression(NumberLiteral(NumberLiteral))), AST(Slice("{stuff: 'other'}"), Expression(ObjectLiteral(ObjectLiteral { open_brace: Slice("{"), fields: [(AST(Slice("stuff"), PlainIdentifier(PlainIdentifier)), Slice(":"), AST(Slice("'other'"), Expression(StringLiteral(StringLiteral { open_quote: Slice("'"), contents: Slice("other"), close_quote: Slice("'") }))))], commas: [], trailing_comma: None, close_brace: Some(Slice("}")) })))], commas: [Slice(","), Slice(",")], trailing_comma: None, close_bracket: Some(Slice("]")) }))) })), AST(Slice("const func = (a: number, b: string) => a + b"), Declaration(Declaration { const_keyword: Slice("const"), identifier: AST(Slice("func"), PlainIdentifier(PlainIdentifier)), type_annotation: None, equals: Slice("="), value: AST(Slice("(a: number, b: string) => a + b"), Expression(FunctionExpression(FunctionExpression { open_paren: Some(Slice("(")), parameters: [(AST(Slice("a"), PlainIdentifier(PlainIdentifier)), Some((Slice(":"), AST(Slice("number"), TypeExpression(NumberTypeExpression(NumberTypeExpression)))))), (AST(Slice("b"), PlainIdentifier(PlainIdentifier)), Some((Slice(":"), AST(Slice("string"), TypeExpression(StringTypeExpression(StringTypeExpression))))))], commas: [Slice(",")], trailing_comma: None, close_paren: Some(Slice(")")), arrow: Slice("=>"), body: AST(Slice("a + b"), Expression(BinaryOperation(BinaryOperation { left: AST(Slice("a"), Expression(LocalIdentifier(LocalIdentifier { identifier: AST(Slice("a"), PlainIdentifier(PlainIdentifier)) }))), operator: AST(Slice("+"), BinaryOperator(Add)), right: AST(Slice("b"), Expression(LocalIdentifier(LocalIdentifier { identifier: AST(Slice("b"), PlainIdentifier(PlainIdentifier)) }))) }))) }))) })), AST(Slice("const a: string = nil"), Declaration(Declaration { const_keyword: Slice("const"), identifier: AST(Slice("a"), PlainIdentifier(PlainIdentifier)), type_annotation: Some((Slice(":"), AST(Slice("string"), TypeExpression(StringTypeExpression(StringTypeExpression))))), equals: Slice("="), value: AST(Slice("nil"), Expression(NilLiteral(NilLiteral))) })), AST(Slice("const b: number = y * 2 + x"), Declaration(Declaration { const_keyword: Slice("const"), identifier: AST(Slice("b"), PlainIdentifier(PlainIdentifier)), type_annotation: Some((Slice(":"), AST(Slice("number"), TypeExpression(NumberTypeExpression(NumberTypeExpression))))), equals: Slice("="), value: AST(Slice("y * 2 + x"), Expression(BinaryOperation(BinaryOperation { left: AST(Slice("y * 2"), Expression(BinaryOperation(BinaryOperation { left: AST(Slice("y"), Expression(LocalIdentifier(LocalIdentifier { identifier: AST(Slice("y"), PlainIdentifier(PlainIdentifier)) }))), operator: AST(Slice("*"), BinaryOperator(Multiply)), right: AST(Slice("2"), Expression(NumberLiteral(NumberLiteral))) }))), operator: AST(Slice("+"), BinaryOperator(Add)), right: AST(Slice("x"), Expression(LocalIdentifier(LocalIdentifier { identifier: AST(Slice("x"), PlainIdentifier(PlainIdentifier)) }))) }))) }))] }),
        ),
    ),
)
